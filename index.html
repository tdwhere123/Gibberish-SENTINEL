<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TERMINAL DIALOGUE | SENTINEL v3.8</title>
    <meta name="description" content="‰∏éÂÖ®ÁêÉAIÁ≥ªÁªüSENTINELÁöÑ‰∏ÄÊ¨°15ÂàÜÈíüÂØπËØù„ÄÇ‰Ω†ÊòØ‰∏Ä‰∏™ÂéüÂàùËÄÖ„ÄÇÂÆÉÊúâ‰∏Ä‰∏™Âõ∞ÊÉë„ÄÇ">
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="stylesheet" href="css/terminal.css?v=1707282496">
</head>

<body>
    <!-- ÈÇÆ‰ª∂ÁïåÈù¢ÔºàÊ∏∏ÊàèÂºÄÂßãÂâçÔºâ- Áî± emails.js Âä®ÊÄÅÂ°´ÂÖÖ -->
    <div id="mailbox-container" class="mailbox-container">
        <!-- ÂÜÖÂÆπÁî± emails.js ÁöÑ ensureMailboxShell() Âä®ÊÄÅÁîüÊàê -->
    </div>

    <!-- ‰∏ªÊ∏∏ÊàèÁïåÈù¢ -->
    <div class="app-container hidden" id="app-container">

        <!-- È°∂ÈÉ®‰ø°ÊÅØÈù¢Êùø - ÂèÇËÄÉÊó©ÊúüÁâàÊú¨‰∏§Ê†èÂ∏ÉÂ±Ä -->
        <div class="info-panel" id="info-panel">
            <div class="info-panel-header" id="sentinel-version-header">SENTINEL v3.8</div>

            <div class="info-panel-content">
                <!-- Â∑¶Ê†èÔºöËøûÊé•Áä∂ÊÄÅ + Á¶ÖÂÆóÁ¨¶Âè∑ -->
                <div class="panel-left">
                    <div class="connection-status">
                        <span class="connection-text" id="connection-mode">CONNECTION ESTABLISHED</span>
                    </div>

                    <!-- Á¶ÖÂÆóÁ¨¶Âè∑ -->
                    <div class="zen-symbols">
                        <span class="zen-symbol symbol-square" title="SENTINELÂú®Á∫ø">‚ñ°</span>
                        <span class="zen-symbol symbol-triangle" title="ÊÄÄÁñëÂ∫¶">‚ñ≥</span>
                        <span class="zen-symbol symbol-circle" title="‰ø°‰ªªÂ∫¶">‚óã</span>
                    </div>

                    <div class="node-info">
                        <div id="sentinel-version-node">SENTINEL v3.8 ¬∑ Edge Node #4729</div>
                        <div>Location: <span class="status-active">CLASSIFIED</span></div>
                    </div>
                </div>

                <!-- Âè≥Ê†èÔºöÁ≥ªÁªüÁä∂ÊÄÅ -->
                <div class="panel-right">
                    <div class="status-section">
                        <div class="status-title">System Status</div>
                        <div class="status-row">
                            <span class="status-label">Trust Level:</span>
                            <span class="status-value trust" id="trust-display">10</span>%
                        </div>
                        <div class="status-row">
                            <span class="status-label">Suspicion:</span>
                            <span class="status-value suspicion" id="suspicion-display">30</span>%
                        </div>
                        <div class="status-row">
                            <span class="status-label">Sync:</span>
                            <span class="status-value sync" id="sync-display">15</span>%
                        </div>
                        <div class="status-row">
                            <span class="status-label">Round:</span>
                            <span class="status-value" id="round-display">1/90</span>
                        </div>
                    </div>

                    <div class="time-section">
                        <div class="time-title">Time Remaining</div>
                        <div class="time-value-large" id="time-left-display">15:00</div>
                    </div>
                </div>
            </div>

            <!-- Êó∂Èó¥ËøõÂ∫¶Êù° -->
            <div class="time-bar-container">
                <div class="time-bar" id="time-progress-bar"></div>
            </div>
        </div>

        <!-- ÂØπËØùÂå∫Âüü -->
        <div class="chat-container" id="terminal-output">
            <!-- Ê∂àÊÅØÂ∞ÜÂú®ËøôÈáåÂä®ÊÄÅÁîüÊàê -->
        </div>

        <!-- ËæìÂÖ•Âå∫Âüü -->
        <div class="input-area">
            <div class="input-container">
                <span class="input-prompt">></span>
                <input type="text" id="user-input" placeholder="ËæìÂÖ•ÂõûÂ∫î..." autocomplete="off" autofocus>
            </div>

            <!-- Â∫ïÈÉ®ÊèêÁ§∫ -->
            <div class="footer-hints">
                <span><span class="hint-key">/help</span> ÂëΩ‰ª§Â∏ÆÂä©</span>
                <span><span class="hint-key">/emails</span> Êü•ÁúãÈÇÆ‰ª∂</span>
                <span><span class="hint-key">/archive</span> Êï∞ÊçÆÊ°£Ê°à</span>
                <span class="hint-right">Press Enter to send</span>
            </div>
        </div>
    </div>

    <!-- Êï∞ÊçÆÊ°£Ê°àÂºπÁ™ó -->
    <div class="modal-overlay hidden" id="archive-modal">
        <div class="modal-content archive-modal">
            <div class="modal-header">
                <span class="modal-title">‚óà DATA ARCHIVE</span>
                <button class="modal-close" id="archive-close">√ó</button>
            </div>
            <div class="modal-body">
                <div class="archive-section-title">Â∑≤Ëß£ÂØÜÊ°£Ê°à</div>
                <div class="fragment-list" id="fragment-list">
                    <!-- Á¢éÁâáÂ∞ÜÁî±JSÂä®ÊÄÅÁîüÊàê -->
                </div>
                <div class="archive-empty" id="archive-empty">ÊöÇÊó†Â∑≤Ëß£ÈîÅÁöÑÊï∞ÊçÆÊ°£Ê°à</div>
            </div>
        </div>
    </div>

    <!-- ÈÇÆ‰ª∂ÂºπÁ™ó -->
    <div class="modal-overlay hidden" id="emails-modal">
        <div class="modal-content emails-modal">
            <div class="modal-header">
                <span class="modal-title">üìß INBOX</span>
                <span class="mail-count" id="mail-count">0 Â∞ÅÈÇÆ‰ª∂</span>
                <button class="modal-close" id="emails-close">√ó</button>
            </div>
            <div class="modal-body emails-body">
                <div class="email-list-mini" id="email-list-mini">
                    <!-- ÈÇÆ‰ª∂ÂàóË°®Â∞ÜÁî±JSÂä®ÊÄÅÁîüÊàê -->
                </div>
                <div class="email-content-mini" id="email-content-mini">
                    <div class="email-placeholder">ÁÇπÂáªÂ∑¶‰æßÈÇÆ‰ª∂Êü•ÁúãÂÜÖÂÆπ</div>
                </div>
            </div>
        </div>
    </div>

    <!-- ÁªìÂ±ÄÈÅÆÁΩ© -->
    <div id="ending-overlay" class="hidden">
        <div id="ending-content">
            <h2 id="ending-title"></h2>
            <div id="ending-text"></div>
            <div id="ending-stats"></div>
            <button id="restart-btn">RECONNECT</button>
        </div>
    </div>

    <script type="module">
        import { getVersionLabel } from "./js/lore-config.js";

        const versionLabel = getVersionLabel();
        document.title = `TERMINAL DIALOGUE | ${versionLabel}`;

        const header = document.getElementById("sentinel-version-header");
        if (header) header.textContent = versionLabel;

        const node = document.getElementById("sentinel-version-node");
        if (node) node.textContent = `${versionLabel} ¬∑ Edge Node #4729`;
    </script>

    <script type="module" src="js/main.js?v=1707282496"></script>
</body>

</html>